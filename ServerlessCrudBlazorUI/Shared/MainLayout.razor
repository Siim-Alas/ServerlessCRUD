@inherits LayoutComponentBase
    
@inject IJSRuntime JsRuntime

<div @ref="headerReference" class="page-header">
    <h1 class="display-4"><i class="fa fa-user-circle"></i> Welcome to your blog!</h1>
    <p>
        A Blazor Crud demo.
    </p>
    <h3>
        <a href="https://www.google.com/" target="_blank"><i class="fa fa-facebook-square"></i></a>
        <a href="https://www.google.com/" target="_blank"><i class="fa fa-github"></i></a> 
        <a href="https://www.google.com/" target="_blank"><i class="fa fa-linkedin"></i></a>
    </h3>
</div>

<div @ref="topRowReference" class="top-row">
    <div class="flex-grow-1">
        <NavMenu />
    </div>
    <div class="auth">
        <LoginDisplay />
    </div>
</div>

<div class="centered">
    <div class="d-xl-flex">
        <div class="main mb-4">
            <div class="content pl-4 pb-4">
                @Body
            </div>
        </div>
        <Sidebar />
    </div>
</div>

@code{      
    // Workaround, since position: sticky; doesn't work with the overflow property set.

    private ElementReference topRowReference;
    private ElementReference headerReference;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);

        if (firstRender)
        {
            await JsRuntime.InvokeVoidAsync("OwnStickifier.stickify", topRowReference, headerReference);
        }
    }
}